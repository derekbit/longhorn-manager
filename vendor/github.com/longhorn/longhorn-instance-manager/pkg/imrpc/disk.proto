syntax="proto3";

package imrpc;

import "google/protobuf/empty.proto";
import "imcommon.proto";

service DiskService {
    rpc DiskCreate(DiskCreateRequest) returns (Disk);
	rpc DiskGet(DiskGetRequest) returns (Disk);

    rpc VersionGet(google.protobuf.Empty) returns(VersionResponse);
}

message Disk {
    string id = 1;
    string uuid = 2;
    string path = 3;
    string type = 4;

    int64 total_size = 5;
    int64 free_size = 6;

    int64 total_blocks = 7;
    int64 free_blocks = 8;

    int64 block_size = 9;
    int64 cluster_size = 10;
}

enum DiskType {
    filesystem = 0;
    block = 1;
}

message DiskCreateRequest{
    DiskType disk_type = 1;

	string disk_name = 2;
    string disk_path = 3;
    int64 block_size = 4;
}

message DiskGetRequest {
    DiskType disk_type = 1;

    string disk_name = 2;
    string disk_path = 3;
}

message DiskDeleteRequest {
    DiskType disk_type = 1;

    string disk_name = 2;
}
