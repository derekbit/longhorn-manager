syntax="proto3";

package imrpc;

import "google/protobuf/empty.proto";
import "imrpc.proto";

service DiskService {
    rpc DiskCreate(DiskCreateRequest) returns (Disk);
	rpc DiskGet(DiskGetRequest) returns (Disk);

    rpc VersionGet(google.protobuf.Empty) returns(VersionResponse);
}

message Disk {
    string id = 1;
    string uuid = 2;
    string path = 3;
    string type = 4;

    int64 total_size = 5;
    int64 free_size = 6;

    int64 total_blocks = 7;
    int64 free_blocks = 8;

    int64 block_size = 9;
    int64 cluster_size = 10;

    bool readonly = 11;
}

message DiskCreateRequest{
	string disk_name = 1;
    string disk_path = 2;
    int64 block_size = 3;
}

message DiskGetRequest {
    string disk_name = 1;
	string disk_path = 2;
}
